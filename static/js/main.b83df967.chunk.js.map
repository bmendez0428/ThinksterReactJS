{"version":3,"sources":["constants/actionTypes.js","components/ArticlePreview.js","components/ListPagination.js","components/ArticleList.js","components/Home/index.js","components/Home/Banner.js","agent.js","components/Home/MainView.js","components/Home/Tags.js","middleware.js","reducers/common.js","reducer.js","reducers/article.js","reducers/articleList.js","reducers/auth.js","reducers/editor.js","reducers/home.js","reducers/profile.js","reducers/settings.js","store.js","components/Header.js","components/Article/ArticleActions.js","components/Article/ArticleMeta.js","components/Article/CommentInput.js","components/Article/DeleteButton.js","components/Article/Comment.js","components/Article/CommentList.js","components/Article/CommentContainer.js","components/Article/index.js","components/ListErrors.js","components/Editor.js","components/Login.js","components/Profile.js","components/ProfileFavorites.js","components/Register.js","components/Settings.js","components/App.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","APP_LOAD","REDIRECT","ARTICLE_SUBMITTED","SETTINGS_SAVED","DELETE_ARTICLE","SETTINGS_PAGE_UNLOADED","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","ARTICLE_PAGE_LOADED","ARTICLE_PAGE_UNLOADED","ADD_COMMENT","DELETE_COMMENT","ARTICLE_FAVORITED","ARTICLE_UNFAVORITED","SET_PAGE","APPLY_TAG_FILTER","CHANGE_TAB","PROFILE_PAGE_LOADED","PROFILE_PAGE_UNLOADED","LOGIN","LOGOUT","REGISTER","LOGIN_PAGE_UNLOADED","REGISTER_PAGE_UNLOADED","ASYNC_START","ASYNC_END","EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_AUTH","UPDATE_FIELD_EDITOR","FOLLOW_USER","UNFOLLOW_USER","PROFILE_FAVORITES_PAGE_UNLOADED","PROFILE_FAVORITES_PAGE_LOADED","connect","dispatch","favorite","slug","type","payload","agent","Articles","unfavorite","props","article","favoriteButtonClass","favorited","react_default","a","createElement","className","Link","to","concat","author","username","src","image","alt","Date","createdAt","toDateString","onClick","ev","preventDefault","favoritesCount","title","description","tagList","map","tag","key","onSetPage","page","articlesCount","range","i","Math","ceil","push","v","isCurrent","currentPage","pager","all","toString","href","ArticleList","articles","length","components_ArticlePreview","components_ListPagination","Promise","global","Home","tab","this","token","articlesPromise","feed","onLoad","Tags","getAll","onUnload","react__WEBPACK_IMPORTED_MODULE_8___default","_Banner__WEBPACK_IMPORTED_MODULE_6__","appName","_MainView__WEBPACK_IMPORTED_MODULE_7__","_Tags__WEBPACK_IMPORTED_MODULE_9__","tags","onClickTag","React","Component","state","Object","_Users_Brandon_Desktop_Winter_Quarter_Web_Dev_Frameworks_react_redux_realworld_example_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","home","common","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Banner","_ref","toLowerCase","superagent_promise__WEBPACK_IMPORTED_MODULE_0__","superagent_promise__WEBPACK_IMPORTED_MODULE_0___default","superagent__WEBPACK_IMPORTED_MODULE_1__","superagent__WEBPACK_IMPORTED_MODULE_1___default","superagent","superagentPromise","_superagent","API_ROOT","encode","encodeURIComponent","responseBody","res","body","tokenPlugin","req","set","requests","url","del","use","then","get","put","post","Auth","current","login","email","password","user","register","save","limit","count","p","omitSlug","assign","undefined","byAuthor","byTag","favoritedBy","update","create","Comments","comment","delete","commentId","forArticle","Profile","follow","unfollow","setToken","_token","YourFeedTab","react__WEBPACK_IMPORTED_MODULE_2___default","onTabClick","GlobalFeedTab","TagFilterTab","_Users_Brandon_Desktop_Winter_Quarter_Web_Dev_Frameworks_react_redux_realworld_example_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","articleList","_ArticleList__WEBPACK_IMPORTED_MODULE_1__","loading","_agent__WEBPACK_IMPORTED_MODULE_1__","promiseMiddleware","store","next","action","subtype","currentView","getState","viewChangeCounter","skipTracking","currentState","console","log","promise","error","response","localStorageMiddleware","window","localStorage","setItem","defaultState","combineReducers","arguments","objectSpread","comments","commentErrors","errors","filter","id","auth","inProgress","defineProperty","value","appLoaded","currentUser","redirectTo","redirectUrl","editor","articleSlug","tagInput","profile","settings","router","routerReducer","history","createHistory","myRouterMiddleware","routerMiddleware","createStore","reducer","composeWithDevTools","applyMiddleware","LoggedOutView","LoggedInView","Header","Header_LoggedOutView","Header_LoggedInView","onClickDelete","canModify","ArticleMeta","Article_ArticleActions","CommentInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setBody","setState","target","createComment","onSubmit","placeholder","onChange","rows","show","Comment","Article_DeleteButton","CommentList","Article_Comment","CommentContainer","Article_CommentInput","Article_CommentList","Article","match","params","markup","__html","marked","sanitize","Article_ArticleMeta","dangerouslySetInnerHTML","Article_CommentContainer","ListErrors","keys","Editor","updateFieldEvent","onUpdateField","changeTitle","changeDescription","changeBody","changeTagInput","watchForEnter","keyCode","onAddTag","removeTagHandler","onRemoveTag","submitForm","nextProps","_this2","components_ListErrors","onKeyUp","disabled","Login","changeEmail","onChangeEmail","changePassword","onChangePassword","EditProfileSettings","isUser","FollowUserButton","classes","following","mapStateToProps","bio","Profile_EditProfileSettings","Profile_FollowUserButton","onFollow","onUnfollow","renderTabs","ProfileFavorites","Register","changeUsername","onChangeUsername","SettingsForm","updateState","field","newState","onSubmitForm","Settings","Settings_SettingsForm","onClickLogout","App","onRedirect","getItem","components_Header","Switch","Route","exact","path","component","ReactDOM","render","es","react_router_redux_es","document","getElementById"],"mappings":"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","file":"static/js/main.b83df967.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\nexport const REDIRECT = 'REDIRECT';\nexport const ARTICLE_SUBMITTED = 'ARTICLE_SUBMITTED';\nexport const SETTINGS_SAVED = 'SETTINGS_SAVED';\nexport const DELETE_ARTICLE = 'DELETE_ARTICLE';\nexport const SETTINGS_PAGE_UNLOADED = 'SETTINGS_PAGE_UNLOADED';\nexport const HOME_PAGE_LOADED = 'HOME_PAGE_LOADED';\nexport const HOME_PAGE_UNLOADED = 'HOME_PAGE_UNLOADED';\nexport const ARTICLE_PAGE_LOADED = 'ARTICLE_PAGE_LOADED';\nexport const ARTICLE_PAGE_UNLOADED = 'ARTICLE_PAGE_UNLOADED';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const ARTICLE_FAVORITED = 'ARTICLE_FAVORITED';\nexport const ARTICLE_UNFAVORITED = 'ARTICLE_UNFAVORITED';\nexport const SET_PAGE = 'SET_PAGE';\nexport const APPLY_TAG_FILTER = 'APPLY_TAG_FILTER';\nexport const CHANGE_TAB = 'CHANGE_TAB';\nexport const PROFILE_PAGE_LOADED = 'PROFILE_PAGE_LOADED';\nexport const PROFILE_PAGE_UNLOADED = 'PROFILE_PAGE_UNLOADED';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const REGISTER = 'REGISTER';\nexport const LOGIN_PAGE_UNLOADED = 'LOGIN_PAGE_UNLOADED';\nexport const REGISTER_PAGE_UNLOADED = 'REGISTER_PAGE_UNLOADED';\nexport const ASYNC_START = 'ASYNC_START';\nexport const ASYNC_END = 'ASYNC_END';\nexport const EDITOR_PAGE_LOADED = 'EDITOR_PAGE_LOADED';\nexport const EDITOR_PAGE_UNLOADED = 'EDITOR_PAGE_UNLOADED';\nexport const ADD_TAG = 'ADD_TAG';\nexport const REMOVE_TAG = 'REMOVE_TAG';\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\nexport const UPDATE_FIELD_EDITOR = 'UPDATE_FIELD_EDITOR';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\nexport const PROFILE_FAVORITES_PAGE_UNLOADED = 'PROFILE_FAVORITES_PAGE_UNLOADED';\nexport const PROFILE_FAVORITES_PAGE_LOADED = 'PROFILE_FAVORITES_PAGE_LOADED';","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { ARTICLE_FAVORITED, ARTICLE_UNFAVORITED } from '../constants/actionTypes';\n\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary';\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary';\n\nconst mapDispatchToProps = dispatch => ({\n  favorite: slug => dispatch({\n    type: ARTICLE_FAVORITED,\n    payload: agent.Articles.favorite(slug)\n  }),\n  unfavorite: slug => dispatch({\n    type: ARTICLE_UNFAVORITED,\n    payload: agent.Articles.unfavorite(slug)\n  })\n});\n\nconst ArticlePreview = props => {\n  const article = props.article;\n  const favoriteButtonClass = article.favorited ?\n    FAVORITED_CLASS :\n    NOT_FAVORITED_CLASS;\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (article.favorited) {\n      props.unfavorite(article.slug);\n    } else {\n      props.favorite(article.slug);\n    }\n  };\n\n  return (\n    <div className=\"article-preview\">\n      <div className=\"article-meta\">\n        <Link to={`/@${article.author.username}`}>\n          <img src={article.author.image} alt={article.author.username} />\n        </Link>\n\n        <div className=\"info\">\n          <Link className=\"author\" to={`/@${article.author.username}`}>\n            {article.author.username}\n          </Link>\n          <span className=\"date\">\n            {new Date(article.createdAt).toDateString()}\n          </span>\n        </div>\n\n        <div className=\"pull-xs-right\">\n          <button className={favoriteButtonClass} onClick={handleClick}>\n            <i className=\"ion-heart\"></i> {article.favoritesCount}\n          </button>\n        </div>\n      </div>\n\n      <Link to={`/article/${article.slug}`} className=\"preview-link\">\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className=\"tag-list\">\n          {\n            article.tagList.map(tag => {\n              return (\n                <li className=\"tag-default tag-pill tag-outline\" key={tag}>\n                  {tag}\n                </li>\n              )\n            })\n          }\n        </ul>\n      </Link>\n    </div>\n  );\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(ArticlePreview);\n","import React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { SET_PAGE } from '../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onSetPage: (page, payload) =>\n    dispatch({ type: SET_PAGE, page, payload })\n});\n\nconst ListPagination = props => {\n  if (props.articlesCount <= 10) {\n    return null;\n  }\n\n  const range = [];\n  for (let i = 0; i < Math.ceil(props.articlesCount / 10); ++i) {\n    range.push(i);\n  }\n\n  const setPage = page => {\n    if(props.pager) {\n      props.onSetPage(page, props.pager(page));\n    }else {\n      props.onSetPage(page, agent.Articles.all(page))\n    }\n  };\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n\n        {\n          range.map(v => {\n            const isCurrent = v === props.currentPage;\n            const onClick = ev => {\n              ev.preventDefault();\n              setPage(v);\n            };\n            return (\n              <li\n                className={ isCurrent ? 'page-item active' : 'page-item' }\n                onClick={onClick}\n                key={v.toString()}>\n\n                <a className=\"page-link\" href=\"\">{v + 1}</a>\n\n              </li>\n            );\n          })\n        }\n\n      </ul>\n    </nav>\n  );\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(ListPagination);\n","import ArticlePreview from './ArticlePreview';\nimport ListPagination from './ListPagination';\nimport React from 'react';\n\nconst ArticleList = props => {\n  if (!props.articles) {\n    return (\n      <div className=\"article-preview\">Loading...</div>\n    );\n  }\n\n  if (props.articles.length === 0) {\n    return (\n      <div className=\"article-preview\">\n        No articles are here... yet.\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {\n        props.articles.map(article => {\n          return (\n            <ArticlePreview article={article} key={article.slug} />\n          );\n        })\n      }\n\n      <ListPagination\n        pager={props.pager}\n        articlesCount={props.articlesCount}\n        currentPage={props.currentPage} />\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import Banner from './Banner';\nimport MainView from './MainView';\nimport React from 'react';\nimport Tags from './Tags';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport {\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  APPLY_TAG_FILTER\n} from '../../constants/actionTypes';\n\nconst Promise = global.Promise;\n\nconst mapStateToProps = state => ({\n  ...state.home,\n  appName: state.common.appName,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickTag: (tag, pager, payload) =>\n    dispatch({ type: APPLY_TAG_FILTER, tag, pager, payload }),\n  onLoad: (tab, pager, payload) =>\n    dispatch({ type: HOME_PAGE_LOADED, tab, pager, payload }),\n  onUnload: () =>\n    dispatch({  type: HOME_PAGE_UNLOADED })\n});\n\nclass Home extends React.Component {\n  componentWillMount() {\n    const tab = this.props.token ? 'feed' : 'all';\n    const articlesPromise = this.props.token ?\n      agent.Articles.feed :\n      agent.Articles.all;\n\n    this.props.onLoad(tab, articlesPromise, Promise.all([agent.Tags.getAll(), articlesPromise()]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"home-page\">\n\n        <Banner token={this.props.token} appName={this.props.appName} />\n\n        <div className=\"container page\">\n          <div className=\"row\">\n            <MainView />\n\n            <div className=\"col-md-3\">\n              <div className=\"sidebar\">\n\n                <p>Popular Tags</p>\n\n                <Tags\n                  tags={this.props.tags}\n                  onClickTag={this.props.onClickTag} />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React from 'react';\n\nconst Banner = ({ appName, token }) => {\n  if (token) {\n    return null;\n  }\n  return (\n    <div className=\"banner\">\n      <div className=\"container\">\n        <h1 className=\"logo-font\">\n          {appName.toLowerCase()}\n        </h1>\n        <p>A place to share your knowledge.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Banner;\n","import superagentPromise from 'superagent-promise';\nimport _superagent from 'superagent';\n\nconst superagent = superagentPromise(_superagent, global.Promise);\n\nconst API_ROOT = 'https://conduit.productionready.io/api';\n\nconst encode = encodeURIComponent;\nconst responseBody = res => res.body;\n\nlet token = null;\nconst tokenPlugin = req => {\n  if (token) {\n    req.set('authorization', `Token ${token}`);\n  }\n}\n\nconst requests = {\n  del: url =>\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  get: url =>\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  put: (url, body) =>\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\n  post: (url, body) =>\n    superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\n};\n\nconst Auth = {\n  current: () =>\n    requests.get('/user'),\n  login: (email, password) =>\n    requests.post('/users/login', { user: { email, password } }),\n  register: (username, email, password) =>\n    requests.post('/users', { user: { username, email, password } }),\n  save: user =>\n    requests.put('/user', { user })\n};\n\nconst Tags = {\n  getAll: () => requests.get('/tags')\n};\n\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`;\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\nconst Articles = {\n  all: page =>\n    requests.get(`/articles?${limit(10, page)}`),\n  byAuthor: (author, page) =>\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\n  byTag: (tag, page) =>\n    requests.get(`/articles?tag=${encode(tag)}&${limit(10, page)}`),\n  del: slug =>\n    requests.del(`/articles/${slug}`),\n  favorite: slug =>\n    requests.post(`/articles/${slug}/favorite`),\n  favoritedBy: (author, page) =>\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\n  feed: () =>\n    requests.get('/articles/feed?limit=10&offset=0'),\n  get: slug =>\n    requests.get(`/articles/${slug}`),\n  unfavorite: slug =>\n    requests.del(`/articles/${slug}/favorite`),\n  update: article =>\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\n  create: article =>\n    requests.post('/articles', { article })\n};\n\nconst Comments = {\n  create: (slug, comment) =>\n    requests.post(`/articles/${slug}/comments`, { comment }),\n  delete: (slug, commentId) =>\n    requests.del(`/articles/${slug}/comments/${commentId}`),\n  forArticle: slug =>\n    requests.get(`/articles/${slug}/comments`)\n};\n\nconst Profile = {\n  follow: username =>\n    requests.post(`/profiles/${username}/follow`),\n  get: username =>\n    requests.get(`/profiles/${username}`),\n  unfollow: username =>\n    requests.del(`/profiles/${username}/follow`)\n};\n\nexport default {\n  Articles,\n  Auth,\n  Comments,\n  Profile,\n  Tags,\n  setToken: _token => { token = _token; }\n};\n","import ArticleList from '../ArticleList';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { CHANGE_TAB } from '../../constants/actionTypes';\n\nconst YourFeedTab = props => {\n  if (props.token) {\n    const clickHandler = ev => {\n      ev.preventDefault();\n      props.onTabClick('feed', agent.Articles.feed, agent.Articles.feed());\n    }\n\n    return (\n      <li className=\"nav-item\">\n        <a  href=\"\"\n            className={ props.tab === 'feed' ? 'nav-link active' : 'nav-link' }\n            onClick={clickHandler}>\n          Your Feed\n        </a>\n      </li>\n    );\n  }\n  return null;\n};\n\nconst GlobalFeedTab = props => {\n  const clickHandler = ev => {\n    ev.preventDefault();\n    props.onTabClick('all', agent.Articles.all, agent.Articles.all());\n  };\n  return (\n    <li className=\"nav-item\">\n      <a\n        href=\"\"\n        className={ props.tab === 'all' ? 'nav-link active' : 'nav-link' }\n        onClick={clickHandler}>\n        Global Feed\n      </a>\n    </li>\n  );\n};\n\nconst TagFilterTab = props => {\n  if (!props.tag) {\n    return null;\n  }\n\n  return (\n    <li className=\"nav-item\">\n      <a href=\"\" className=\"nav-link active\">\n        <i className=\"ion-pound\"></i> {props.tag}\n      </a>\n    </li>\n  );\n};\n\nconst mapStateToProps = state => ({\n  ...state.articleList,\n  tags: state.home.tags,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onTabClick: (tab, pager, payload) => dispatch({ type: CHANGE_TAB, tab, pager, payload })\n});\n\nconst MainView = props => {\n  return (\n    <div className=\"col-md-9\">\n      <div className=\"feed-toggle\">\n        <ul className=\"nav nav-pills outline-active\">\n\n          <YourFeedTab\n            token={props.token}\n            tab={props.tab}\n            onTabClick={props.onTabClick} />\n\n          <GlobalFeedTab tab={props.tab} onTabClick={props.onTabClick} />\n\n          <TagFilterTab tag={props.tag} />\n\n        </ul>\n      </div>\n\n      <ArticleList\n        pager={props.pager}\n        articles={props.articles}\n        loading={props.loading}\n        articlesCount={props.articlesCount}\n        currentPage={props.currentPage} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainView);\n","import React from 'react';\nimport agent from '../../agent';\n\nconst Tags = props => {\n  const tags = props.tags;\n  if (tags) {\n    return (\n      <div className=\"tag-list\">\n        {\n          tags.map(tag => {\n            const handleClick = ev => {\n              ev.preventDefault();\n              props.onClickTag(tag, page => agent.Articles.byTag(tag, page), agent.Articles.byTag(tag));\n            };\n\n            return (\n              <a\n                href=\"\"\n                className=\"tag-default tag-pill\"\n                key={tag}\n                onClick={handleClick}>\n                {tag}\n              </a>\n            );\n          })\n        }\n      </div>\n    );\n  } else {\n    return (\n      <div>Loading Tags...</div>\n    );\n  }\n};\n\nexport default Tags;\n","import agent from './agent';\nimport {\n  ASYNC_START,\n  ASYNC_END,\n  LOGIN,\n  LOGOUT,\n  REGISTER\n} from './constants/actionTypes';\n\nconst promiseMiddleware = store => next => action => {\n  if (isPromise(action.payload)) {\n    store.dispatch({ type: ASYNC_START, subtype: action.type });\n\n    const currentView = store.getState().viewChangeCounter;\n    const skipTracking = action.skipTracking;\n\n    action.payload.then(\n      res => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('RESULT', res);\n        action.payload = res;\n        store.dispatch({ type: ASYNC_END, promise: action.payload });\n        store.dispatch(action);\n      },\n      error => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('ERROR', error);\n        action.error = true;\n        action.payload = error.response.body;\n        if (!action.skipTracking) {\n          store.dispatch({ type: ASYNC_END, promise: action.payload });\n        }\n        store.dispatch(action);\n      }\n    );\n\n    return;\n  }\n\n  next(action);\n};\n\nconst localStorageMiddleware = store => next => action => {\n  if (action.type === REGISTER || action.type === LOGIN) {\n    if (!action.error) {\n      window.localStorage.setItem('jwt', action.payload.user.token);\n      agent.setToken(action.payload.user.token);\n    }\n  } else if (action.type === LOGOUT) {\n    window.localStorage.setItem('jwt', '');\n    agent.setToken(null);\n  }\n\n  next(action);\n};\n\nfunction isPromise(v) {\n  return v && typeof v.then === 'function';\n}\n\n\nexport { promiseMiddleware, localStorageMiddleware }\n","import {\n  APP_LOAD,\n  REDIRECT,\n  LOGOUT,\n  ARTICLE_SUBMITTED,\n  SETTINGS_SAVED,\n  LOGIN,\n  REGISTER,\n  DELETE_ARTICLE,\n  ARTICLE_PAGE_UNLOADED,\n  EDITOR_PAGE_UNLOADED,\n  HOME_PAGE_UNLOADED,\n  PROFILE_PAGE_UNLOADED,\n  PROFILE_FAVORITES_PAGE_UNLOADED,\n  SETTINGS_PAGE_UNLOADED,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst defaultState = {\n  appName: 'Conduit',\n  token: null,\n  viewChangeCounter: 0\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case APP_LOAD:\n      return {\n        ...state,\n        token: action.token || null,\n        appLoaded: true,\n        currentUser: action.payload ? action.payload.user : null\n      };\n    case REDIRECT:\n      return { ...state, redirectTo: null };\n    case LOGOUT:\n      return { ...state, redirectTo: '/', token: null, currentUser: null };\n    case ARTICLE_SUBMITTED:\n      const redirectUrl = `/article/${action.payload.article.slug}`;\n      return { ...state, redirectTo: redirectUrl };\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        currentUser: action.error ? null : action.payload.user\n      };\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        token: action.error ? null : action.payload.user.token,\n        currentUser: action.error ? null : action.payload.user\n      };\n    case DELETE_ARTICLE:\n      return { ...state, redirectTo: '/' };\n    case ARTICLE_PAGE_UNLOADED:\n    case EDITOR_PAGE_UNLOADED:\n    case HOME_PAGE_UNLOADED:\n    case PROFILE_PAGE_UNLOADED:\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\n    case SETTINGS_PAGE_UNLOADED:\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return { ...state, viewChangeCounter: state.viewChangeCounter + 1 };\n    default:\n      return state;\n  }\n};\n","import article from './reducers/article';\nimport articleList from './reducers/articleList';\nimport auth from './reducers/auth';\nimport { combineReducers } from 'redux';\nimport common from './reducers/common';\nimport editor from './reducers/editor';\nimport home from './reducers/home';\nimport profile from './reducers/profile';\nimport settings from './reducers/settings';\nimport { routerReducer } from 'react-router-redux';\n\nexport default combineReducers({\n  article,\n  articleList,\n  auth,\n  common,\n  editor,\n  home,\n  profile,\n  settings,\n  router: routerReducer\n});\n","import {\n  ARTICLE_PAGE_LOADED,\n  ARTICLE_PAGE_UNLOADED,\n  ADD_COMMENT,\n  DELETE_COMMENT\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_PAGE_LOADED:\n      return {\n        ...state,\n        article: action.payload[0].article,\n        comments: action.payload[1].comments\n      };\n    case ARTICLE_PAGE_UNLOADED:\n      return {};\n    case ADD_COMMENT:\n      return {\n        ...state,\n        commentErrors: action.error ? action.payload.errors : null,\n        comments: action.error ?\n          null :\n          (state.comments || []).concat([action.payload.comment])\n      };\n    case DELETE_COMMENT:\n      const commentId = action.commentId\n      return {\n        ...state,\n        comments: state.comments.filter(comment => comment.id !== commentId)\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  ARTICLE_FAVORITED,\n  ARTICLE_UNFAVORITED,\n  SET_PAGE,\n  APPLY_TAG_FILTER,\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  CHANGE_TAB,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n  PROFILE_FAVORITES_PAGE_LOADED,\n  PROFILE_FAVORITES_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_FAVORITED:\n    case ARTICLE_UNFAVORITED:\n      return {\n        ...state,\n        articles: state.articles.map(article => {\n          if (article.slug === action.payload.article.slug) {\n            return {\n              ...article,\n              favorited: action.payload.article.favorited,\n              favoritesCount: action.payload.article.favoritesCount\n            };\n          }\n          return article;\n        })\n      };\n    case SET_PAGE:\n      return {\n        ...state,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        currentPage: action.page\n      };\n    case APPLY_TAG_FILTER:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        tab: null,\n        tag: action.tag,\n        currentPage: 0\n      };\n    case HOME_PAGE_LOADED:\n      return {\n        ...state,\n        pager: action.pager,\n        tags: action.payload[0].tags,\n        articles: action.payload[1].articles,\n        articlesCount: action.payload[1].articlesCount,\n        currentPage: 0,\n        tab: action.tab\n      };\n    case HOME_PAGE_UNLOADED:\n      return {};\n    case CHANGE_TAB:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        tab: action.tab,\n        currentPage: 0,\n        tag: null\n      };\n    case PROFILE_PAGE_LOADED:\n    case PROFILE_FAVORITES_PAGE_LOADED:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload[1].articles,\n        articlesCount: action.payload[1].articlesCount,\n        currentPage: 0\n      };\n    case PROFILE_PAGE_UNLOADED:\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\n      return {};\n    default:\n      return state;\n  }\n};\n","import {\n  LOGIN,\n  REGISTER,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER_PAGE_UNLOADED,\n  ASYNC_START,\n  UPDATE_FIELD_AUTH\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null\n      };\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return {};\n    case ASYNC_START:\n      if (action.subtype === LOGIN || action.subtype === REGISTER) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case UPDATE_FIELD_AUTH:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n","import {\n  EDITOR_PAGE_LOADED,\n  EDITOR_PAGE_UNLOADED,\n  ARTICLE_SUBMITTED,\n  ASYNC_START,\n  ADD_TAG,\n  REMOVE_TAG,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case EDITOR_PAGE_LOADED:\n      return {\n        ...state,\n        articleSlug: action.payload ? action.payload.article.slug : '',\n        title: action.payload ? action.payload.article.title : '',\n        description: action.payload ? action.payload.article.description : '',\n        body: action.payload ? action.payload.article.body : '',\n        tagInput: '',\n        tagList: action.payload ? action.payload.article.tagList : []\n      };\n    case EDITOR_PAGE_UNLOADED:\n      return {};\n    case ARTICLE_SUBMITTED:\n      return {\n        ...state,\n        inProgress: null,\n        errors: action.error ? action.payload.errors : null\n      };\n    case ASYNC_START:\n      if (action.subtype === ARTICLE_SUBMITTED) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case ADD_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.concat([state.tagInput]),\n        tagInput: ''\n      };\n    case REMOVE_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.filter(tag => tag !== action.tag)\n      };\n    case UPDATE_FIELD_EDITOR:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n","import { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case HOME_PAGE_LOADED:\n      return {\n        ...state,\n        tags: action.payload[0].tags\n      };\n    case HOME_PAGE_UNLOADED:\n      return {};\n    default:\n      return state;\n  }\n};\n","import {\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n  FOLLOW_USER,\n  UNFOLLOW_USER\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case PROFILE_PAGE_LOADED:\n      return {\n        ...action.payload[0].profile\n      };\n    case PROFILE_PAGE_UNLOADED:\n      return {};\n    case FOLLOW_USER:\n    case UNFOLLOW_USER:\n      return {\n        ...action.payload.profile\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  ASYNC_START\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null\n      };\n    case SETTINGS_PAGE_UNLOADED:\n      return {};\n    case ASYNC_START:\n      return {\n        ...state,\n        inProgress: true\n      };\n    default:\n      return state;\n  }\n};\n","import { applyMiddleware, createStore } from 'redux';\nimport { createLogger } from 'redux-logger'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { promiseMiddleware, localStorageMiddleware } from './middleware';\nimport reducer from './reducer';\n\nimport { routerMiddleware } from 'react-router-redux'\nimport createHistory from 'history/createBrowserHistory';\n\nexport const history = createHistory();\n\n// Build the middleware for intercepting and dispatching navigation actions\nconst myRouterMiddleware = routerMiddleware(history);\n\nconst getMiddleware = () => {\n  if (process.env.NODE_ENV === 'production') {\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware);\n  } else {\n    // Enable additional logging in non-production environments.\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware, createLogger())\n  }\n};\n\nexport const store = createStore(\n  reducer, composeWithDevTools(getMiddleware()));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst LoggedOutView = props => {\n  if (!props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/login\" className=\"nav-link\">\n            Sign in\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/register\" className=\"nav-link\">\n            Sign up\n          </Link>\n        </li>\n\n      </ul>\n    );\n  }\n  return null;\n};\n\nconst LoggedInView = props => {\n  if (props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/editor\" className=\"nav-link\">\n            <i className=\"ion-compose\"></i>&nbsp;New Post\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/settings\" className=\"nav-link\">\n            <i className=\"ion-gear-a\"></i>&nbsp;Settings\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            to={`/@${props.currentUser.username}`}\n            className=\"nav-link\">\n            <img src={props.currentUser.image} className=\"user-pic\" alt={props.currentUser.username} />\n            {props.currentUser.username}\n          </Link>\n        </li>\n\n      </ul>\n    );\n  }\n\n  return null;\n};\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <nav className=\"navbar navbar-light\">\n        <div className=\"container\">\n\n          <Link to=\"/\" className=\"navbar-brand\">\n            {this.props.appName.toLowerCase()}\n          </Link>\n\n          <LoggedOutView currentUser={this.props.currentUser} />\n\n          <LoggedInView currentUser={this.props.currentUser} />\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Header;\n","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { DELETE_ARTICLE } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onClickDelete: payload =>\n    dispatch({ type: DELETE_ARTICLE, payload })\n});\n\nconst ArticleActions = props => {\n  const article = props.article;\n  const del = () => {\n    props.onClickDelete(agent.Articles.del(article.slug))\n  };\n  if (props.canModify) {\n    return (\n      <span>\n\n        <Link\n          to={`/editor/${article.slug}`}\n          className=\"btn btn-outline-secondary btn-sm\">\n          <i className=\"ion-edit\"></i> Edit Article\n        </Link>\n\n        <button className=\"btn btn-outline-danger btn-sm\" onClick={del}>\n          <i className=\"ion-trash-a\"></i> Delete Article\n        </button>\n\n      </span>\n    );\n  }\n\n  return (\n    <span>\n    </span>\n  );\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(ArticleActions);\n","import ArticleActions from './ArticleActions';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst ArticleMeta = props => {\n  const article = props.article;\n  return (\n    <div className=\"article-meta\">\n      <Link to={`/@${article.author.username}`}>\n        <img src={article.author.image} alt={article.author.username} />\n      </Link>\n\n      <div className=\"info\">\n        <Link to={`/@${article.author.username}`} className=\"author\">\n          {article.author.username}\n        </Link>\n        <span className=\"date\">\n          {new Date(article.createdAt).toDateString()}\n        </span>\n      </div>\n\n      <ArticleActions canModify={props.canModify} article={article} />\n    </div>\n  );\n};\n\nexport default ArticleMeta;\n","import React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { ADD_COMMENT } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onSubmit: payload =>\n    dispatch({ type: ADD_COMMENT, payload })\n});\n\nclass CommentInput extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      body: ''\n    };\n\n    this.setBody = ev => {\n      this.setState({ body: ev.target.value });\n    };\n\n    this.createComment = ev => {\n      ev.preventDefault();\n      const payload = agent.Comments.create(this.props.slug,\n        { body: this.state.body });\n      this.setState({ body: '' });\n      this.props.onSubmit(payload);\n    };\n  }\n\n  render() {\n    return (\n      <form className=\"card comment-form\" onSubmit={this.createComment}>\n        <div className=\"card-block\">\n          <textarea className=\"form-control\"\n            placeholder=\"Write a comment...\"\n            value={this.state.body}\n            onChange={this.setBody}\n            rows=\"3\">\n          </textarea>\n        </div>\n        <div className=\"card-footer\">\n          <img\n            src={this.props.currentUser.image}\n            className=\"comment-author-img\"\n            alt={this.props.currentUser.username} />\n          <button\n            className=\"btn btn-sm btn-primary\"\n            type=\"submit\">\n            Post Comment\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(CommentInput);\n","import React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { DELETE_COMMENT } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: (payload, commentId) =>\n    dispatch({ type: DELETE_COMMENT, payload, commentId })\n});\n\nconst DeleteButton = props => {\n  const del = () => {\n    const payload = agent.Comments.delete(props.slug, props.commentId);\n    props.onClick(payload, props.commentId);\n  };\n\n  if (props.show) {\n    return (\n      <span className=\"mod-options\">\n        <i className=\"ion-trash-a\" onClick={del}></i>\n      </span>\n    );\n  }\n  return null;\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(DeleteButton);\n","import DeleteButton from './DeleteButton';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst Comment = props => {\n  const comment = props.comment;\n  const show = props.currentUser &&\n    props.currentUser.username === comment.author.username;\n  return (\n    <div className=\"card\">\n      <div className=\"card-block\">\n        <p className=\"card-text\">{comment.body}</p>\n      </div>\n      <div className=\"card-footer\">\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\">\n          <img src={comment.author.image} className=\"comment-author-img\" alt={comment.author.username} />\n        </Link>\n        &nbsp;\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\">\n          {comment.author.username}\n        </Link>\n        <span className=\"date-posted\">\n          {new Date(comment.createdAt).toDateString()}\n        </span>\n        <DeleteButton show={show} slug={props.slug} commentId={comment.id} />\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import Comment from './Comment';\nimport React from 'react';\n\nconst CommentList = props => {\n  return (\n    <div>\n      {\n        props.comments.map(comment => {\n          return (\n            <Comment\n              comment={comment}\n              currentUser={props.currentUser}\n              slug={props.slug}\n              key={comment.id} />\n          );\n        })\n      }\n    </div>\n  );\n};\n\nexport default CommentList;\n","import CommentInput from './CommentInput';\nimport CommentList from './CommentList';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst CommentContainer = props => {\n  if (props.currentUser) {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <div>\n          <list-errors errors={props.errors}></list-errors>\n          <CommentInput slug={props.slug} currentUser={props.currentUser} />\n        </div>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser} />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <p>\n          <Link to=\"/login\">Sign in</Link>\n          &nbsp;or&nbsp;\n          <Link to=\"/register\">sign up</Link>\n          &nbsp;to add comments on this article.\n        </p>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser} />\n      </div>\n    );\n  }\n};\n\nexport default CommentContainer;\n","import ArticleMeta from './ArticleMeta';\nimport CommentContainer from './CommentContainer';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport marked from 'marked';\nimport { ARTICLE_PAGE_LOADED, ARTICLE_PAGE_UNLOADED } from '../../constants/actionTypes';\n\nconst mapStateToProps = state => ({\n  ...state.article,\n  currentUser: state.common.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: payload =>\n    dispatch({ type: ARTICLE_PAGE_LOADED, payload }),\n  onUnload: () =>\n    dispatch({ type: ARTICLE_PAGE_UNLOADED })\n});\n\nclass Article extends React.Component {\n  componentWillMount() {\n    this.props.onLoad(Promise.all([\n      agent.Articles.get(this.props.match.params.id),\n      agent.Comments.forArticle(this.props.match.params.id)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    if (!this.props.article) {\n      return null;\n    }\n\n    const markup = { __html: marked(this.props.article.body, { sanitize: true }) };\n    const canModify = this.props.currentUser &&\n      this.props.currentUser.username === this.props.article.author.username;\n    return (\n      <div className=\"article-page\">\n\n        <div className=\"banner\">\n          <div className=\"container\">\n\n            <h1>{this.props.article.title}</h1>\n            <ArticleMeta\n              article={this.props.article}\n              canModify={canModify} />\n\n          </div>\n        </div>\n\n        <div className=\"container page\">\n\n          <div className=\"row article-content\">\n            <div className=\"col-xs-12\">\n\n              <div dangerouslySetInnerHTML={markup}></div>\n\n              <ul className=\"tag-list\">\n                {\n                  this.props.article.tagList.map(tag => {\n                    return (\n                      <li\n                        className=\"tag-default tag-pill tag-outline\"\n                        key={tag}>\n                        {tag}\n                      </li>\n                    );\n                  })\n                }\n              </ul>\n\n            </div>\n          </div>\n\n          <hr />\n\n          <div className=\"article-actions\">\n          </div>\n\n          <div className=\"row\">\n            <CommentContainer\n              comments={this.props.comments || []}\n              errors={this.props.commentErrors}\n              slug={this.props.match.params.id}\n              currentUser={this.props.currentUser} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Article);\n","import React from 'react';\n\nclass ListErrors extends React.Component {\n  render() {\n    const errors = this.props.errors;\n    if (errors) {\n      return (\n        <ul className=\"error-messages\">\n          {\n            Object.keys(errors).map(key => {\n              return (\n                <li key={key}>\n                  {key} {errors[key]}\n                </li>\n              );\n            })\n          }\n        </ul>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ListErrors;\n","import ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  ADD_TAG,\n  EDITOR_PAGE_LOADED,\n  REMOVE_TAG,\n  ARTICLE_SUBMITTED,\n  EDITOR_PAGE_UNLOADED,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({\n  ...state.editor\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddTag: () =>\n    dispatch({ type: ADD_TAG }),\n  onLoad: payload =>\n    dispatch({ type: EDITOR_PAGE_LOADED, payload }),\n  onRemoveTag: tag =>\n    dispatch({ type: REMOVE_TAG, tag }),\n  onSubmit: payload =>\n    dispatch({ type: ARTICLE_SUBMITTED, payload }),\n  onUnload: payload =>\n    dispatch({ type: EDITOR_PAGE_UNLOADED }),\n  onUpdateField: (key, value) =>\n    dispatch({ type: UPDATE_FIELD_EDITOR, key, value })\n});\n\nclass Editor extends React.Component {\n  constructor() {\n    super();\n\n    const updateFieldEvent =\n      key => ev => this.props.onUpdateField(key, ev.target.value);\n    this.changeTitle = updateFieldEvent('title');\n    this.changeDescription = updateFieldEvent('description');\n    this.changeBody = updateFieldEvent('body');\n    this.changeTagInput = updateFieldEvent('tagInput');\n\n    this.watchForEnter = ev => {\n      if (ev.keyCode === 13) {\n        ev.preventDefault();\n        this.props.onAddTag();\n      }\n    };\n\n    this.removeTagHandler = tag => () => {\n      this.props.onRemoveTag(tag);\n    };\n\n    this.submitForm = ev => {\n      ev.preventDefault();\n      const article = {\n        title: this.props.title,\n        description: this.props.description,\n        body: this.props.body,\n        tagList: this.props.tagList\n      };\n\n      const slug = { slug: this.props.articleSlug };\n      const promise = this.props.articleSlug ?\n        agent.Articles.update(Object.assign(article, slug)) :\n        agent.Articles.create(article);\n\n      this.props.onSubmit(promise);\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.match.params.slug !== nextProps.match.params.slug) {\n      if (nextProps.match.params.slug) {\n        this.props.onUnload();\n        return this.props.onLoad(agent.Articles.get(this.props.match.params.slug));\n      }\n      this.props.onLoad(null);\n    }\n  }\n\n  componentWillMount() {\n    if (this.props.match.params.slug) {\n      return this.props.onLoad(agent.Articles.get(this.props.match.params.slug));\n    }\n    this.props.onLoad(null);\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"editor-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-10 offset-md-1 col-xs-12\">\n\n              <ListErrors errors={this.props.errors}></ListErrors>\n\n              <form>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Article Title\"\n                      value={this.props.title}\n                      onChange={this.changeTitle} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"What's this article about?\"\n                      value={this.props.description}\n                      onChange={this.changeDescription} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <textarea\n                      className=\"form-control\"\n                      rows=\"8\"\n                      placeholder=\"Write your article (in markdown)\"\n                      value={this.props.body}\n                      onChange={this.changeBody}>\n                    </textarea>\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"Enter tags\"\n                      value={this.props.tagInput}\n                      onChange={this.changeTagInput}\n                      onKeyUp={this.watchForEnter} />\n\n                    <div className=\"tag-list\">\n                      {\n                        (this.props.tagList || []).map(tag => {\n                          return (\n                            <span className=\"tag-default tag-pill\" key={tag}>\n                              <i  className=\"ion-close-round\"\n                                  onClick={this.removeTagHandler(tag)}>\n                              </i>\n                              {tag}\n                            </span>\n                          );\n                        })\n                      }\n                    </div>\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg pull-xs-right btn-primary\"\n                    type=\"button\"\n                    disabled={this.props.inProgress}\n                    onClick={this.submitForm}>\n                    Publish Article\n                  </button>\n\n                </fieldset>\n              </form>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  UPDATE_FIELD_AUTH,\n  LOGIN,\n  LOGIN_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth });\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\n  onChangePassword: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n  onSubmit: (email, password) =>\n    dispatch({ type: LOGIN, payload: agent.Auth.login(email, password) }),\n  onUnload: () =>\n    dispatch({ type: LOGIN_PAGE_UNLOADED })\n});\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n    this.submitForm = (email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign In</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/register\">\n                  Need an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(email, password)}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={email}\n                      onChange={this.changeEmail} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={password}\n                      onChange={this.changePassword} />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}>\n                    Sign in\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import ArticleList from './ArticleList';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  FOLLOW_USER,\n  UNFOLLOW_USER,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst EditProfileSettings = props => {\n  if (props.isUser) {\n    return (\n      <Link\n        to=\"/settings\"\n        className=\"btn btn-sm btn-outline-secondary action-btn\">\n        <i className=\"ion-gear-a\"></i> Edit Profile Settings\n      </Link>\n    );\n  }\n  return null;\n};\n\nconst FollowUserButton = props => {\n  if (props.isUser) {\n    return null;\n  }\n\n  let classes = 'btn btn-sm action-btn';\n  if (props.user.following) {\n    classes += ' btn-secondary';\n  } else {\n    classes += ' btn-outline-secondary';\n  }\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (props.user.following) {\n      props.unfollow(props.user.username)\n    } else {\n      props.follow(props.user.username)\n    }\n  };\n\n  return (\n    <button\n      className={classes}\n      onClick={handleClick}>\n      <i className=\"ion-plus-round\"></i>\n      &nbsp;\n      {props.user.following ? 'Unfollow' : 'Follow'} {props.user.username}\n    </button>\n  );\n};\n\nconst mapStateToProps = state => ({\n  ...state.articleList,\n  currentUser: state.common.currentUser,\n  profile: state.profile\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onFollow: username => dispatch({\n    type: FOLLOW_USER,\n    payload: agent.Profile.follow(username)\n  }),\n  onLoad: payload => dispatch({ type: PROFILE_PAGE_LOADED, payload }),\n  onUnfollow: username => dispatch({\n    type: UNFOLLOW_USER,\n    payload: agent.Profile.unfollow(username)\n  }),\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED })\n});\n\nclass Profile extends React.Component {\n  componentWillMount() {\n    this.props.onLoad(Promise.all([\n      agent.Profile.get(this.props.match.params.username),\n      agent.Articles.byAuthor(this.props.match.params.username)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            to={`/@${this.props.profile.username}`}>\n            My Articles\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            to={`/@${this.props.profile.username}/favorites`}>\n            Favorited Articles\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  render() {\n    const profile = this.props.profile;\n    if (!profile) {\n      return null;\n    }\n\n    const isUser = this.props.currentUser &&\n      this.props.profile.username === this.props.currentUser.username;\n\n    return (\n      <div className=\"profile-page\">\n\n        <div className=\"user-info\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n                <img src={profile.image} className=\"user-img\" alt={profile.username} />\n                <h4>{profile.username}</h4>\n                <p>{profile.bio}</p>\n\n                <EditProfileSettings isUser={isUser} />\n                <FollowUserButton\n                  isUser={isUser}\n                  user={profile}\n                  follow={this.props.onFollow}\n                  unfollow={this.props.onUnfollow}\n                  />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n              <div className=\"articles-toggle\">\n                {this.renderTabs()}\n              </div>\n\n              <ArticleList\n                pager={this.props.pager}\n                articles={this.props.articles}\n                articlesCount={this.props.articlesCount}\n                state={this.props.currentPage} />\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\nexport { Profile, mapStateToProps };\n","import { Profile, mapStateToProps } from './Profile';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: (pager, payload) =>\n    dispatch({ type: PROFILE_PAGE_LOADED, pager, payload }),\n  onUnload: () =>\n    dispatch({ type: PROFILE_PAGE_UNLOADED })\n});\n\nclass ProfileFavorites extends Profile {\n  componentWillMount() {\n    this.props.onLoad(page => agent.Articles.favoritedBy(this.props.match.params.username, page), Promise.all([\n      agent.Profile.get(this.props.match.params.username),\n      agent.Articles.favoritedBy(this.props.match.params.username)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            to={`/@${this.props.profile.username}`}>\n            My Articles\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            to={`/@${this.props.profile.username}/favorites`}>\n            Favorited Articles\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileFavorites);\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  UPDATE_FIELD_AUTH,\n  REGISTER,\n  REGISTER_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth });\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\n  onChangePassword: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n  onChangeUsername: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\n  onSubmit: (username, email, password) => {\n    const payload = agent.Auth.register(username, email, password);\n    dispatch({ type: REGISTER, payload })\n  },\n  onUnload: () =>\n    dispatch({ type: REGISTER_PAGE_UNLOADED })\n});\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n    this.changeUsername = ev => this.props.onChangeUsername(ev.target.value);\n    this.submitForm = (username, email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(username, email, password);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    const username = this.props.username;\n\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign Up</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/login\">\n                  Have an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(username, email, password)}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      value={this.props.username}\n                      onChange={this.changeUsername} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={this.props.email}\n                      onChange={this.changeEmail} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={this.props.password}\n                      onChange={this.changePassword} />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}>\n                    Sign up\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  LOGOUT\n} from '../constants/actionTypes';\n\nclass SettingsForm extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      image: '',\n      username: '',\n      bio: '',\n      email: '',\n      password: ''\n    };\n\n    this.updateState = field => ev => {\n      const state = this.state;\n      const newState = Object.assign({}, state, { [field]: ev.target.value });\n      this.setState(newState);\n    };\n\n    this.submitForm = ev => {\n      ev.preventDefault();\n\n      const user = Object.assign({}, this.state);\n      if (!user.password) {\n        delete user.password;\n      }\n\n      this.props.onSubmitForm(user);\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.currentUser) {\n      Object.assign(this.state, {\n        image: this.props.currentUser.image || '',\n        username: this.props.currentUser.username,\n        bio: this.props.currentUser.bio,\n        email: this.props.currentUser.email\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser) {\n      this.setState(Object.assign({}, this.state, {\n        image: nextProps.currentUser.image || '',\n        username: nextProps.currentUser.username,\n        bio: nextProps.currentUser.bio,\n        email: nextProps.currentUser.email\n      }));\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.submitForm}>\n        <fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"URL of profile picture\"\n              value={this.state.image}\n              onChange={this.updateState('image')} />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"text\"\n              placeholder=\"Username\"\n              value={this.state.username}\n              onChange={this.updateState('username')} />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <textarea\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n              placeholder=\"Short bio about you\"\n              value={this.state.bio}\n              onChange={this.updateState('bio')}>\n            </textarea>\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={this.state.email}\n              onChange={this.updateState('email')} />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"password\"\n              placeholder=\"New Password\"\n              value={this.state.password}\n              onChange={this.updateState('password')} />\n          </fieldset>\n\n          <button\n            className=\"btn btn-lg btn-primary pull-xs-right\"\n            type=\"submit\"\n            disabled={this.state.inProgress}>\n            Update Settings\n          </button>\n\n        </fieldset>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state.settings,\n  currentUser: state.common.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickLogout: () => dispatch({ type: LOGOUT }),\n  onSubmitForm: user =>\n    dispatch({ type: SETTINGS_SAVED, payload: agent.Auth.save(user) }),\n  onUnload: () => dispatch({ type: SETTINGS_PAGE_UNLOADED })\n});\n\nclass Settings extends React.Component {\n  render() {\n    return (\n      <div className=\"settings-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n\n              <h1 className=\"text-xs-center\">Your Settings</h1>\n\n              <ListErrors errors={this.props.errors}></ListErrors>\n\n              <SettingsForm\n                currentUser={this.props.currentUser}\n                onSubmitForm={this.props.onSubmitForm} />\n\n              <hr />\n\n              <button\n                className=\"btn btn-outline-danger\"\n                onClick={this.props.onClickLogout}>\n                Or click here to logout.\n              </button>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import agent from '../agent';\nimport Header from './Header';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { APP_LOAD, REDIRECT } from '../constants/actionTypes';\nimport { Route, Switch } from 'react-router-dom';\nimport Article from '../components/Article';\nimport Editor from '../components/Editor';\nimport Home from '../components/Home';\nimport Login from '../components/Login';\nimport Profile from '../components/Profile';\nimport ProfileFavorites from '../components/ProfileFavorites';\nimport Register from '../components/Register';\nimport Settings from '../components/Settings';\nimport { store } from '../store';\nimport { push } from 'react-router-redux';\n\nconst mapStateToProps = state => {\n  return {\n    appLoaded: state.common.appLoaded,\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n    redirectTo: state.common.redirectTo\n  }};\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: (payload, token) =>\n    dispatch({ type: APP_LOAD, payload, token, skipTracking: true }),\n  onRedirect: () =>\n    dispatch({ type: REDIRECT })\n});\n\nclass App extends React.Component {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.redirectTo) {\n      // this.context.router.replace(nextProps.redirectTo);\n      store.dispatch(push(nextProps.redirectTo));\n      this.props.onRedirect();\n    }\n  }\n\n  componentWillMount() {\n    const token = window.localStorage.getItem('jwt');\n    if (token) {\n      agent.setToken(token);\n    }\n\n    this.props.onLoad(token ? agent.Auth.current() : null, token);\n  }\n\n  render() {\n    if (this.props.appLoaded) {\n      return (\n        <div>\n          <Header\n            appName={this.props.appName}\n            currentUser={this.props.currentUser} />\n            <Switch>\n            <Route exact path=\"/\" component={Home}/>\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/editor/:slug\" component={Editor} />\n            <Route path=\"/editor\" component={Editor} />\n            <Route path=\"/article/:id\" component={Article} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/@:username/favorites\" component={ProfileFavorites} />\n            <Route path=\"/@:username\" component={Profile} />\n            </Switch>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Header\n          appName={this.props.appName}\n          currentUser={this.props.currentUser} />\n      </div>\n    );\n  }\n}\n\n// App.contextTypes = {\n//   router: PropTypes.object.isRequired\n// };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport { store, history} from './store';\n\nimport { Route, Switch } from 'react-router-dom';\nimport { ConnectedRouter } from 'react-router-redux';\n\nimport App from './components/App';\n\nReactDOM.render((\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <Switch>\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </ConnectedRouter>\n  </Provider>\n\n), document.getElementById('root'));\n"],"sourceRoot":""}